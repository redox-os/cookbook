#TODO missing script for Ninja, see https://trac.webkit.org/wiki/BuildingGtk#BuildingWebKitGTKfromareleasetarball
#TODO port to orbital
#TODO missing dependencies, see https://archlinux.org/packages/extra/x86_64/webkitgtk-6.0/
[source]
tar = "https://webkitgtk.org/releases/webkitgtk-2.49.1.tar.xz"
blake3 = "7f04acb2f909ad334fc623afb297ebca1d5a5005bda1682946fb37e044e45ecb"

[build]
template = "custom"
dependencies = [
    "atk",
    "cairo",
    "expat",
    "fontconfig",
    "freetype2",
    "fribidi",
    "gettext",
    "gdk-pixbuf",
    "glib",
    "gstreamer",
    "gtk3",
    "harfbuzz",
    #TODO: "libavif",
    "libepoxy",
    "libffi",
    "libicu",
    "libiconv",
    "libgcrypt",
    "libjpeg",
    "libpng",
    "libpthread-stubs",
    "libtasn1",
    "libwebp",
    "libx11",
    "libxau",
    "libxext",
    "libxcb",
    "libxfixes",
    "libxi",
    "libxrandr",
    "libxrender",
    "libxml2",
    "mesa-x11",
    "pango",
    "pcre2",
    "pixman",
    "shared-mime-info",
    "sqlite3",
    "x11proto",
    "xextproto",
    "zlib",
]
script = """
DYNAMIC_INIT
cookbook_cmake \
    -DPORT=GTK \
    -DLibGcrypt_GpgError_LIBRARY=lgcrypt \
    -DLibGcrypt_GpgError_INCLUDE_DIR="${COOKBOOK_SYSROOT}/usr/include" \
    -DUSE_GTK4=OFF
"""
