[source]
tar = "https://openal-soft.org/openal-releases/openal-soft-1.24.1.tar.bz2"
blake3 = "8aeaa8307d3e14331ad20761c537ffebe70975cb7c3343e8d5c0c0ed7bc16eab"
patches = [
    "redox.patch"
]

[build]
template = "custom"
dependencies = [
    "liborbital",
    "libsndfile",
    "llvm18",
    "mesa",
    "sdl2",
    "zlib",
]
script = """
DYNAMIC_INIT
export CFLAGS="${CFLAGS} -I${COOKBOOK_SYSROOT}/include/SDL2"
export CXXFLAGS="${CXXFLAGS} -I${COOKBOOK_SYSROOT}/include/SDL2"
COOKBOOK_CMAKE_FLAGS+=(
    -DALSOFT_EXAMPLES=OFF
    -DALSOFT_INSTALL_EXAMPLES=OFF
    -DALSOFT_INSTALL_UTILS=OFF
    -DALSOFT_UTILS=OFF
    -DALSOFT_BACKEND_SDL2=ON
    -DALSOFT_REQUIRE_SDL2=ON
)
if [ "${COOKBOOK_DYNAMIC}" == "1" ]
then
    COOKBOOK_CMAKE_FLAGS+=(-DLIBTYPE=SHARED)
else
    COOKBOOK_CMAKE_FLAGS+=(-DLIBTYPE=STATIC)
fi
cookbook_cmake
"""
