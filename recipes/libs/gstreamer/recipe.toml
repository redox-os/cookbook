[source]
tar = "https://gitlab.freedesktop.org/gstreamer/gstreamer/-/archive/1.24.12/gstreamer-1.24.12.tar.gz"
blake3 = "181daf73050f7472ec656e7461b7f67028d6002c1133870576033a32e43a364f"
patches = ["redox.patch"]

[build]
template = "custom"
dependencies = [
    "cairo",
    "expat",
    #TODO: "ffmpeg6",
    "freetype2",
    "fontconfig",
	"gettext",
    "glib",
    "harfbuzz",
    "libffi",
	"libiconv",
    "libjpeg",
    "libogg",
    "libpng",
    "libvorbis",
    "libxml2",
    #TODO "pango",
    "pcre2",
    "pixman",
	"zlib"
]
script = """
DYNAMIC_INIT

export GLIB_GENMARSHAL="$(which glib-genmarshal)"
export GLIB_MKENUMS="$(which glib-mkenums)"

cookbook_meson \
    -Ddevtools=disabled \
    -Dexamples=disabled \
    -Dlibav=disabled \
    -Dlibnice=disabled \
    -Dorc=disabled \
    -Dtests=disabled \
    -Dtools=disabled \
    -Dgstreamer:check=disabled \
    -Dgstreamer:coretracers=disabled \
    -Dgst-plugins-bad:shm=disabled
"""
